---
title: "闭包"
date: 2020-01-02T14:52:27+08:00
draft: true
---

[source doc](https://www.cnblogs.com/jiajialove/p/9049612.html)
####  什么是闭包
  重复使用函数内的局部变量, 在重复使用的过程中保护这个局部变量不被污染的一种机制
  
  
#### 为什么要使用闭包
  因为一般情况下 一个函数 是无法直接使用 其他函数 内的局部变量的
  
#### 构造闭包
1. 用外层函数包裹要保护的变量和内层函数。
2. 外层函数将内层函数返回到外部。
3. 调用外层函数，获得内层函数的对象，保存在外部的变量中——形成了闭包。


#### 闭包形成的原因: 
外层函数调用后，外层函数的函数作用域（AO）对象无法释放，被内层函数引用着。

#### 闭包的缺点：
1.比普通函数占用更多的内存。
    
#### 解决：
1.闭包不在使用时，要及时释放。
    
2.将引用内层函数对象的变量赋值为null。