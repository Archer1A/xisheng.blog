---
title: "Go_build"
date: 2020-01-02T14:52:27+08:00
draft: true
---

### CGO_ENABLED
标准go命令可以自动的使用cgo工具对导入了代码包C的代码包和源码文件进行处理。这里所说的“自动”并不是绝对的.
因为当环境变量CGO_ENABLED被设置为0时，标准go命令就不能处理导入了代码包C的代码包和源码文件了。请看下面的示例

###
我们在执行go run命令时加入了两个标记——-a和-work。标记-a会使命令程序强行重新构建所有的代码包（包括涉及到的标准库），即使它们已经是最新的了。
标记-work会使命令程序将临时工作目录的绝对路径打印到标准输出。命令程序输出的错误信息显示，命令程序没有找到代码包basic/cgo。其原因是由于代码包basic/cgo无法被构建。所以，
命令程序在临时工作目录和工作区中都找不到代码包basic/cgo对应的归档文件cgo.a。如果我们使用命令ll /tmp/go-build856581210查看临时工作目录，也找不到名为basic的目录。